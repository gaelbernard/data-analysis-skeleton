---
title: "Research Corpus Analysis"
plotly:
  connected: true
format:
  dashboard:
    theme: [default, ../templates/dashboard/style.css]
    orientation: rows
    nav-buttons:
      - icon: github
        href: https://github.com/
    logo: epfl_logo.png
---

```{python}
#| echo: false
import pandas as pd
import plotly.express as px
import plotly.graph_objects as go
import plotly.io as pio
pio.renderers.default = "notebook_connected"
from itables import show

# Shared color palette
COLORS = ["#6366F1", "#3B82F6", "#10B981", "#F59E0B", "#F43F5E", "#8B5CF6"]
LAYOUT = dict(
    plot_bgcolor="white",
    paper_bgcolor="white",
    font_family="Inter, Helvetica Neue, sans-serif",
    font_color="#1E293B",
)
GRID = dict(showgrid=True, gridcolor="#F1F5F9")
```

# Overview

## Row {height=25%}

```{python}
#| content: valuebox
#| title: "Documents Analyzed"
dict(value="1,247", color="primary")
```

```{python}
#| content: valuebox
#| title: "Categories"
dict(value="6", color="secondary")
```

```{python}
#| content: valuebox
#| title: "Coverage Rate"
dict(value="94.2%", color="success")
```

```{python}
#| content: valuebox
#| title: "Flagged Items"
dict(value="23", color="warning")
```

## Row {height=75%}

### Distribution by Category {width=55%}

```{python}
#| echo: false
df_cat = pd.DataFrame({
    "Category": ["Policy", "Technical", "Legal", "Financial", "Operational", "Strategic"],
    "Count": [347, 289, 215, 178, 134, 84]
})

fig = px.bar(
    df_cat, x="Category", y="Count",
    color="Category",
    color_discrete_sequence=COLORS,
    text="Count"
)
fig.update_layout(
    **LAYOUT,
    xaxis=dict(showgrid=False, title=None),
    yaxis=dict(**GRID, title="Number of Documents"),
    margin=dict(t=20, b=40, l=60, r=20),
    showlegend=False,
)
fig.update_traces(textposition="outside")
fig.show()
```

### Top Terms {width=45%}

```{python}
#| echo: false
df_terms = pd.DataFrame({
    "Term": ["sustainability", "governance", "compliance", "innovation",
             "risk management", "transparency", "accountability", "efficiency",
             "collaboration", "digital transformation"],
    "Frequency": [312, 278, 245, 231, 198, 187, 165, 152, 143, 128],
})
df_terms["Share"] = (df_terms["Frequency"] / df_terms["Frequency"].sum() * 100).round(1).astype(str) + "%"
df_terms
```


# Trends

## Row {height=45%}

### Documents Over Time

```{python}
#| echo: false
import numpy as np

months = pd.date_range("2023-01", periods=24, freq="MS")
np.random.seed(42)
counts = np.random.poisson(52, size=24) + np.arange(24) * 1.5

df_time = pd.DataFrame({"Month": months, "Documents": counts.astype(int)})

fig = px.line(
    df_time, x="Month", y="Documents",
    markers=True,
    color_discrete_sequence=["#6366F1"]
)
fig.update_traces(
    line=dict(width=2.5),
    marker=dict(size=6),
    fill="tozeroy",
    fillcolor="rgba(99, 102, 241, 0.08)",
)
fig.update_layout(
    **LAYOUT,
    xaxis=dict(showgrid=False, title=None),
    yaxis=dict(**GRID, title="Documents per Month"),
    margin=dict(t=20, b=40, l=60, r=20),
)
fig.show()
```

## Row {height=55%}

### Category Breakdown Over Time {width=60%}

```{python}
#| echo: false
categories = ["Policy", "Technical", "Legal", "Financial"]

data = []
for i, cat in enumerate(categories):
    np.random.seed(i + 10)
    vals = np.random.poisson(12 + i * 3, size=24)
    for j, m in enumerate(months):
        data.append({"Month": m, "Category": cat, "Count": int(vals[j])})

df_stack = pd.DataFrame(data)

fig = px.area(
    df_stack, x="Month", y="Count", color="Category",
    color_discrete_sequence=COLORS,
)
fig.update_layout(
    **LAYOUT,
    xaxis=dict(showgrid=False, title=None),
    yaxis=dict(**GRID, title="Documents"),
    legend=dict(orientation="h", yanchor="bottom", y=1.02, xanchor="right", x=1),
    margin=dict(t=30, b=40, l=60, r=20),
)
fig.show()
```

### Category Share {width=40%}

```{python}
#| echo: false
df_pie = pd.DataFrame({
    "Category": ["Policy", "Technical", "Legal", "Financial", "Operational", "Strategic"],
    "Count": [347, 289, 215, 178, 134, 84]
})

fig = go.Figure(data=[go.Pie(
    labels=df_pie["Category"],
    values=df_pie["Count"],
    hole=0.5,
    marker=dict(colors=COLORS),
    textinfo="percent+label",
    textfont_size=11,
)])
fig.update_layout(
    **LAYOUT,
    margin=dict(t=20, b=20, l=20, r=20),
    showlegend=False,
)
fig.show()
```


# Data

## Row

### Full Corpus Sample

```{python}
#| echo: false
df_full = pd.DataFrame({
    "ID": [f"DOC-{i:04d}" for i in range(1, 21)],
    "Title": [
        "Sustainability Framework 2024", "Risk Assessment Methodology",
        "Compliance Review Q3", "Digital Strategy Roadmap",
        "Governance Charter v2", "Financial Audit Report",
        "Innovation Lab Proposal", "Transparency Guidelines",
        "Operational Efficiency Plan", "Stakeholder Engagement Policy",
        "Data Protection Protocol", "Budget Allocation Framework",
        "Strategic Vision 2030", "Quality Assurance Standards",
        "Environmental Impact Study", "Procurement Guidelines",
        "HR Policy Update", "IT Infrastructure Review",
        "Partnership Agreement Template", "Annual Performance Report"
    ],
    "Category": [
        "Policy", "Technical", "Legal", "Strategic",
        "Policy", "Financial", "Technical", "Policy",
        "Operational", "Policy", "Legal", "Financial",
        "Strategic", "Technical", "Policy", "Operational",
        "Policy", "Technical", "Legal", "Financial"
    ],
    "Date": pd.date_range("2024-01-15", periods=20, freq="12D").strftime("%Y-%m-%d"),
    "Pages": [24, 18, 32, 15, 28, 42, 12, 8, 21, 16, 35, 19, 27, 14, 38, 22, 11, 29, 17, 45],
})

# Display with Excel-like column filters, search, and pagination
show(df_full, column_filters="header", search=True, pageLength=10)
```


# About

## Row

### Info

::: {.disclaimer-box}
**Data source.** This is a demo dashboard with fake data. No real corpus was analyzed.

**AI-assisted.** This dashboard template was generated as part of the data analysis skeleton project.

**Scope.** For demonstration purposes only. All numbers are fictional.
:::

**Last updated:** 23 February 2026

**Purpose:** This demo showcases the dashboard template's visual design, including value boxes, interactive charts (Plotly), data tables, and the disclaimer box. In a real project, all numbers would be loaded from `3_analyses/*/results.json` using `load_analysis()` and `load_value()`.

**Color palette:** Indigo (`#6366F1`), Blue (`#3B82F6`), Emerald (`#10B981`), Amber (`#F59E0B`), Rose (`#F43F5E`), Purple (`#8B5CF6`).
