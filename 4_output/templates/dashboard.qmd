---
title: "Dashboard Title"
format:
  dashboard:
    theme: [default, ../templates/dashboard/style.css]
    orientation: rows
    nav-buttons:
      - icon: github
        href: https://github.com/
    logo: ../templates/dashboard/epfl_logo.png
---

```{python}
#| echo: false
import sys; sys.path.insert(0, "..")
from helpers import load_analysis, load_figure
```

<!-- ================================================================== -->
<!--  Page 1: Overview                                                  -->
<!--  The first page is the landing page. Show KPIs and key charts.     -->
<!-- ================================================================== -->

# Overview

## Row {height=25%}

<!-- Value boxes: replace with real data from load_analysis() -->

```{python}
#| content: valuebox
#| title: "Total Records"
# data = load_analysis("example_analysis")
# dict(value=f"{data['n_results']:,}", color="primary")
dict(value="1,247", color="primary")
```

```{python}
#| content: valuebox
#| title: "Categories"
dict(value="5", color="secondary")
```

```{python}
#| content: valuebox
#| title: "Key Metric"
dict(value="87.3%", color="success")
```

## Row {height=75%}

### Main Chart {width=60%}

```{python}
#| echo: false
# Example: load a figure from an analysis
# from IPython.display import Image, display
# display(Image(filename=load_figure("example_analysis", "chart.png")))
print("Replace with your main chart (matplotlib, plotly, altair, etc.)")
```

### Summary Table {width=40%}

```{python}
#| echo: false
import pandas as pd

# Example: load results and display as table
# data = load_analysis("example_analysis")
# df = pd.DataFrame(data["results"])

# Placeholder
df = pd.DataFrame({
    "Category": ["A", "B", "C", "D"],
    "Count": [423, 312, 287, 225],
    "Share": ["33.9%", "25.0%", "23.0%", "18.0%"]
})
df
```


<!-- ================================================================== -->
<!--  Page 2: Details                                                   -->
<!--  Add more pages with # headings. Each page becomes a nav tab.      -->
<!-- ================================================================== -->

# Details

## Row

### Detailed Table

```{python}
#| echo: false
# data = load_analysis("some_analysis")
# pd.DataFrame(data["results"])
print("Replace with a detailed data table.")
```

### Distribution

```{python}
#| echo: false
# Example with matplotlib:
# import matplotlib.pyplot as plt
# fig, ax = plt.subplots(figsize=(6, 4))
# ax.bar(["A", "B", "C"], [10, 20, 15])
# plt.tight_layout()
# plt.show()
print("Replace with a chart showing distributions or trends.")
```


<!-- ================================================================== -->
<!--  Page 3: About                                                     -->
<!--  Metadata, data provenance, disclaimers.                           -->
<!-- ================================================================== -->

# About

## Row

### Info

::: {.disclaimer-box}
**Data source.** *Describe the data and its limitations.*

**AI-assisted.** *If applicable, describe how AI was used and what safeguards were applied.*

**Scope.** *Clarify what this dashboard is and is not.*
:::

**Last updated:** `{python} from datetime import date; date.today().strftime("%d %B %Y")`

**Data pipeline:** All numbers are loaded from `3_analyses/*/results.json`. No values are hardcoded. To refresh, run `make analyses` then re-render.
